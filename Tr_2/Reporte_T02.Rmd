---
title: "ReporteT02"
author: "Jessica Garcia, Manuel Rivera, Axel Rodriguez"
date: "2023-02-10"
output:
  pdf_document: 
    toc: true
    toc_depth: 3
    number_sections: true
  html_document:
    toc: true # table of content true
    toc_float: yes
    toc_depth: 3  # upto three depths of headings (specified by #, ## and ###)
    number_sections: true  ## if you want number sections at each table header
    theme: united  # many options for theme, this one is my favorite.
    highlight: tango  # specifies the syntax highlighting style
---


# Para _E.coli_

## Usando bwa para _indexar_ el genoma de _E.coli_

Se comienza por crear un entorno de trabajo con los archivos necesarios para la practica

```bash
# Se crea un screen de la practica para poder recurrir a los comandos en distintos momentos
screen -r -D Alignment

# Pasar archivos que se necesitan a carpeta de trabajo
cp -r /mnt/Timina/bioinfoII/data/alignment/ /mnt/Timina/bioinfoII/arodriguez/alignment

# Cargar modulos
module load bwa/0.7.15
module load fastqc/0.11.3
module load samtools/1.9

```
Para este alineamiento, los archivos `Escherichia_coli_K12_MG1655.fasta` y `SRX189773_FNR_ChIP.fastq` se refieren al genoma de referencia y a las lecturas del experimento, respectivamente.


## Usando bwa para _indexar_ el genoma de _E.coli_

Los indices permiten a las herramientas de alineacion (STAR, BWA, minimap2) recuperar rápida y eficientemente la información de la secuencia de referencia, ahorrando tiempo y memoria.

```bash
bwa index -p E_index -a bwtsw Escherichia_coli_K12_MG1655.fastax
```

- `-p` indica el prefijo de los archivos generados
- `-a` elige alguno de los algoritmos de indexacion de bwa (en este caso bwtsw).

## Alinea las lecturas de un experimento de FNR Chip-seq 

```bash
bwa aln E_index SRX189773_FNR_ChIP.fastq > Escherichia.sai
bwa samse E_index Escherichia.sai SRX189773_FNR_ChIP.fastq > Escherichia.sam
```

- `bwa aln` alinea el archivo de entrada de datos de secuencia con el genoma de referencia y produce un archivo `*.sai` de todos los posibles candidatos.
- `samse` genera los alineamientos en un archivo `.sam` dado un archivo `.sai` y el prefijo dado en `aln` (`E_index` en este caso). Se utiliza en lecturas **********single-end**********.

### Otras alternativas 

```bash
bwa aln E_index SRX189773_FNR_ChIP.fastq > Escherichia.bwa
bwa samse E_index Escherichia.bwa SRX189773_FNR_ChIP.fastq > Escherichia.sam
```

## Analisis de calidad post-alineamiento

```bash
# Opcion 1
samtools view -H Escherichia.sam | less -S
# Opcion 2
samtools stats Escherichia.sam | grep 'SN'
# Opcion 3
samtools flagstat Escherichia.sam
```
### Radio de Mapeo (*Mapping rate*)

### DRadio de duplicacion (*Duplication rate*)

### Contenido de GC vs Profundidad de Lectura

### Indeles por ciclo (*Indels by cycle*)

# Para *Mus musculus*

## Control de calidad de las secuencias crudas (*raw sequences*)

